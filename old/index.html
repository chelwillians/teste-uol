<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <script defer src="./js/all.js"></script>
    <title>Afazeres</title>
</head>

<body>
    <div id="general">
        <div id="content">
            <h1>Afazeres</h1>
            <div class="table-area">
                <div class="filter-area">
                    <div class="filters">
                        <div class="filter">
                            <p>Filtrar por: </p>
                            <input type="text" id="userid" placeholder="Usuário ID">
                            <input type="text" id="status" placeholder="Status">
                        </div>
                        <div class="ordination">
                            <p>Ordenar por: </p>
                            <select id="ordination">
                                <option value="">---</option>
                                <option value="userid">Usuário ID</option>
                                <option value="id">ID</option>
                                <option value="title">Título</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <table id="table">
                    <tr>
                        <th>ID</th>
                        <th>Usuário ID</th>
                        <th>Título</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>4</td>
                        <td>1delectus aut autem</td>
                        <td><span class="pending">Pendente</span></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <script>
        var requestURL = 'https://jsonplaceholder.typicode.com/todos';
        var request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();

        request.onload = function () {
            var todos = request.response;            
            todos.map((todo) => {
                document.querySelector('#table tbody').appendChild(document.createElement('tr'));
                document.querySelector('#table tbody tr:last-child').appendChild(document.createElement('td')).innerText = todo.id;
                document.querySelector('#table tbody tr:last-child').appendChild(document.createElement('td')).innerText = todo.userId;
                document.querySelector('#table tbody tr:last-child').appendChild(document.createElement('td')).innerText = todo.title;

                document.querySelector('#table tbody tr:last-child').appendChild(document.createElement('td'));
                document.querySelector('#table tbody tr:last-child td:last-child').appendChild(document.createElement('span')).innerText = todo.completed ? 'Completo' : 'Pendente';
                document.querySelector('#table tbody tr:last-child span').classList.add(todo.completed ? 'complete' : 'pending');
            });            
        }
    </script>
</body>

</html>